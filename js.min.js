(function(){function a(){E=0,F=0,w.classList.add("hidden"),v.classList.add("hidden"),y.classList.add("hidden"),x.classList.remove("hidden");let a=document.getElementById("question-count");a.innerHTML=D.toString(),b()}function b(){let a=document.getElementById("answers-container"),b=a.querySelectorAll(".default-button");if(b.forEach(function(a){a.blur(),a.disabled=!1,a.classList.remove("correct"),a.classList.remove("wrong")}),J())n();else{o(),G=window.setTimeout(function(){l(null)},1e4),m("This cute wapuu is from"),H=c();let a=document.getElementById("question-image");a.src="",a.src="./assets/wapuus/"+H.image+".png";let b=H.answers;for(let a,c=0;c<b.length;c++)a=document.getElementById("answer"+c),a.innerHTML=b[c],a.addEventListener("click",j);k()}}function c(){let a=h(),b=d(data[a].city);return{image:data[a].image_name,correct:data[a].city,answers:b}}function d(a){let b=[a];for(let c,d=0;3>d;d++)c=e(b),b.push(c);return f(b)}function e(a){let b=g(),c=data[b].city;return-1<a.indexOf(c)?e(a):c}function f(a){for(let b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}function g(){return Math.floor(Math.random()*data.length)}function h(){let a=Math.floor(Math.random()*data.length);return-1<I.indexOf(a)?h():a}function j(a){let b=a.currentTarget,c=b.innerHTML;b.removeEventListener("click",j),l(c)}function k(){let a=document.getElementById("question-index"),b=E+1;a.innerHTML=b.toString()}function l(a){clearTimeout(G);let c=document.getElementById("answers-container"),d=c.querySelectorAll(".default-button");d.forEach(function(a){a.disabled=!0,a.innerHTML===H.correct&&a.classList.add("correct")}),p(),H.correct===a?(F++,m("WAPUUTASTIC \u2026 YOU\u2019RE RIGHT!")):a?(m("NICE TRY \u2026 YOU WERE CLOSE :P"),d.forEach(function(b){b.innerHTML===a&&b.classList.add("wrong")})):m("YOUR TIME IS OUT \u2026 PO PO POOO"),E++,window.setTimeout(function(){b()},3e3)}function m(a){let b=document.getElementById("quiz-text");b.innerHTML=a}function n(){let a=document.getElementById("score"),b=document.getElementById("score-total"),c=document.getElementById("score-name"),d=document.getElementById("result-logo"),e=document.getElementById("twitter-tweet-button"),f=document.getElementById("score-description");a.innerHTML=F.toString(),b.innerHTML=D.toString();let g="Can You Guess the Origin of Each Wappu?",h=window.localStorage.getItem("vcWapuuTriviaBestScore");(!h||parseInt(h)<parseInt(F))&&(window.localStorage.setItem("vcWapuuTriviaBestScore",F),z.innerHTML=`Best score: ${F.toString()} out of 10`),4>F?(c.innerHTML="Newbuu",d.src="./assets/wapuu-dumb.png",g=`I am Newbuu - Can You Guess the Origin of Each Wappu?`,f.innerHTML="You are not bad \u2014 you are just bad at this. We know you can do better!"):7>F?(c.innerHTML="Rookiepuu",d.src="./assets/wapuu-rookie.png",g=`I am Rookiepuu - Can You Guess the Origin of Each Wappu?`,f.innerHTML="You know enough, but there is a touch of smallness. You need more to shine!"):10>F?(c.innerHTML="Wapuu expertuu",d.src="./assets/Game-Logo.png",g=`I am Wapuu expertuu - Can You Guess the Origin of Each Wappu?`,f.innerHTML="So close \u2014 you are getting hot, unable to stop. With a burning heart, you are on your way to shine!"):(c.innerHTML="Grandmuuster",d.src="./assets/wapuu-grandmaster.png",g=`I am Grandmuuster - Can You Guess the Origin of Each Wappu?`,f.innerHTML="WooHoo! Your star hour is here! You recognize all the origins of Wapuu - a true Wapuu guru!"),e.href=`https://twitter.com/intent/tweet?text=${g} Wappu Trivia game for WordPress enthusiasts ${encodeURIComponent(location.href)}`;let i=document.querySelector("meta[name=description]");i.parentNode.removeChild(i);let j=document.createElement("meta");j.name="description",j.content=g,document.head.appendChild(j),x.classList.add("hidden"),y.classList.remove("hidden")}function o(){let a=document.getElementById("progress-bar");a.innerHTML="";let b=document.createElement("span");a.appendChild(b),b.style.animationPlayState="running"}function p(){let a=document.getElementById("progress-bar"),b=a.querySelector("span");b.style.animationPlayState="paused"}let q=document.querySelector("#start"),r=document.querySelector("#start2"),s=document.querySelector("#start3"),t=document.querySelector("#how-to"),u=document.querySelector("#close-how-to"),v=document.querySelector(".how-to-play-screen"),w=document.querySelector(".main-screen"),x=document.querySelector(".quiz-screen"),y=document.querySelector(".result-screen"),z=document.querySelector(".best-score"),A=document.querySelector("meta[property=\"og:image\"]"),B=document.createElement("img");B.src="assets/facebook-wapuu-trivia-quizz.png",A.content=B.src,q.addEventListener("click",a),r.addEventListener("click",a),s.addEventListener("click",a),t.addEventListener("click",function(){v.classList.remove("hidden"),w.classList.add("hidden")}),u.addEventListener("click",function(){v.classList.add("hidden"),w.classList.remove("hidden")});let C=window.localStorage.getItem("vcWapuuTriviaBestScore");C&&(z.innerHTML=`Best score: ${C} out of 10`);let D=window.localStorage.getItem("vcWapuuTriviaQuestionsLength");D?D=parseInt(D):(window.localStorage.setItem("vcWapuuTriviaQuestionsLength","10"),D=10);let E=0,F=0,G=null,H=null,I=[],J=function(){return D===E}})();